<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE generatorConfiguration
        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">

<generatorConfiguration>
    <!-- 导入属性配置 -->
    <properties resource="generator.properties"></properties>

    <!-- 配置文件 -->
    <classPathEntry location="${jdbc.driverLocation}"/>

    <context id="hello" targetRuntime="MyBatis3">
        <!-- 当表名或者字段名为SQL关键字的时候，可以设置该属性为true，MBG会自动给表名或字段名添加分隔符 -->
        <property name="autoDelimitKeywords" value="true"/>

        <!-- beginningDelimiter和endingDelimiter指明数据库的用于标记数据库对象名的符号，比如ORACLE就是双引号，MYSQL默认是`反引号 -->
        <property name="beginningDelimiter" value="`"/>
        <property name="endingDelimiter" value="`"/>

        <!-- 生成的Java文件的编码 -->
        <property name="javaFileEncoding" value="UTF-8"/>
         格式化java代码
        <property name="javaFormatter" value="org.mybatis.generator.api.dom.DefaultJavaFormatter"/>
        <!-- 格式化XML代码 -->
        <property name="xmlFormatter" value="org.mybatis.generator.api.dom.DefaultXmlFormatter"/>

        <plugin type="org.mybatis.generator.plugins.FluentBuilderMethodsPlugin" />
        <plugin type="org.mybatis.generator.plugins.ToStringPlugin" />
        <plugin type="org.mybatis.generator.plugins.SerializablePlugin" />
        <plugin type="org.mybatis.generator.plugins.RowBoundsPlugin" /> <!-- 分页 -->

        <!-- 阻止生成表或字段的备注信息 -->
        <commentGenerator>
            <property name="suppressAllComments" value="true"/>
            <property name="suppressDate" value="true"/>
        </commentGenerator>

        <!--
       jdbcConnection
      javaModelGenerator
      sqlMapGenerator
      javaClientGenerator
      table
        -->

<!--        <jdbcConnection driverClass="org.h2.Driver"-->
<!--                        connectionURL="jdbc:h2:mem:testdb"-->
<!--                        userId="sa"-->
<!--                        password="">-->
<!--        </jdbcConnection>-->

        <jdbcConnection driverClass="${jdbc.driverClass}"
                        connectionURL="${jdbc.connectionURL}"
                        userId="${jdbc.userId}"
                        password="${jdbc.password}">
        </jdbcConnection>

        <javaTypeResolver type="com.tom.mybatis.plugin.JavaTypeResolverDecimalToDoubleImpl"/>

        <!--
         java model
         -->
        <javaModelGenerator targetPackage="com.lqh.practice.sb.mybatis.model" targetProject="src/main/java">
            <property name="enableSubPackages" value="true" />
            <property name="trimStrings" value="true" />
        </javaModelGenerator>

        <!-- 需要先创建相应目录 -->
        <sqlMapGenerator targetPackage="com.lqh.practice.sb.mybatis.mapper" targetProject="src/main/resources/mapper">
            <property name="enableSubPackages" value="true" />
        </sqlMapGenerator>

        <!--
         ANNOTATEDMAPPER
         XMLMAPPER
         MIXEDMAPPER
         -->
        <javaClientGenerator type="XMLMAPPER" targetPackage="com.lqh.practice.sb.mybatis.mapper" targetProject="src/main/java">
            <property name="enableSubPackages" value="true" />
        </javaClientGenerator>

        <!-- table -->
        <table tableName="t_coffee" domainObjectName="Coffee" enableCountByExample="false" enableUpdateByExample="false"
               enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false" delimitAllColumns="true">
            <generatedKey column="id" sqlStatement="CALL IDENTITY()" identity="true" />
            <columnOverride column="price" javaType="org.joda.money.Money" jdbcType="BIGINT"
                            typeHandler="com.lqh.practice.sb.xmlmybatis.handler.MoneyTypeHandler"/>
        </table>

<!--        <table tableName="xno_bind_city" domainObjectName="BindCity" enableCountByExample="false" enableUpdateByExample="false"-->
<!--               enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false" delimitAllColumns="true"></table>-->

    </context>
</generatorConfiguration>